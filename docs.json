[{"name":"Snapshot","comment":" Snapshot testing framework for Elm.\n\nAn idiomatic Elm API for approval/snapshot testing.\n\n    -- String output (most common)\n    Snapshot.test \"greeting\" <|\n        \\() -> greet \"World\"\n\n    -- JSON output with pretty printing\n    Snapshot.json 2 \"user data\" <|\n        \\() -> User.encode user\n\n    -- With scrubbers for non-deterministic output\n    Snapshot.test \"log entry\" (\\() -> formatLog entry)\n        |> Snapshot.withScrubbers [ Scrubber.timestamp ]\n\n    -- Grouped tests\n    Snapshot.describe \"Date formatting\"\n        [ Snapshot.test \"ISO format\" <| \\() -> Date.toIso date\n        , Snapshot.test \"human readable\" <| \\() -> Date.toHuman date\n        ]\n\n    -- Custom printer\n    Snapshot.expect myPrinter \"custom format\" <|\n        \\() -> myValue\n\n@docs Test, run, test, json, expect, taskTest, taskJson, taskExpect, withScrubbers, describe\n\n","unions":[{"name":"Test","comment":" An opaque type representing a snapshot test or group of tests.\n\nCreate tests using `test`, `json`, `expect`, or their `task*` variants.\nGroup related tests using `describe`.\n\n","args":[],"cases":[]}],"aliases":[],"values":[{"name":"describe","comment":" Group related tests together.\n\n    Snapshot.describe \"Date formatting\"\n        [ Snapshot.test \"ISO format\" <|\n            \\() -> Date.toIsoString date\n        , Snapshot.test \"human readable\" <|\n            \\() -> Date.toHumanString date\n        ]\n\nTest names are prefixed with the group name, separated by \" / \".\nSnapshot files are stored in subdirectories matching the group structure.\n\n","type":"String.String -> List.List Snapshot.Test -> Snapshot.Test"},{"name":"expect","comment":" Create a snapshot test with a custom printer.\n\n    Snapshot.expect myXmlPrinter \"config file\" <|\n        \\() ->\n            buildConfig options\n\nUse this when you need a custom `a -> String` conversion.\n\n","type":"Snapshot.Printer.Printer a -> String.String -> (() -> a) -> Snapshot.Test"},{"name":"json","comment":" Create a snapshot test for JSON values with pretty printing.\n\n    Snapshot.json 2 \"user data\" <|\n        \\() ->\n            User.encode user\n\nThe first argument is the indentation level (spaces per level).\nKeys are sorted alphabetically for deterministic output.\n\n","type":"Basics.Int -> String.String -> (() -> Json.Encode.Value) -> Snapshot.Test"},{"name":"run","comment":" Run a list of snapshot tests as an elm-pages Script.\n\n    -- In your Snapshots.elm script:\n    run : Script\n    run =\n        Snapshot.run \"Snapshots\"\n            [ Snapshot.test \"greeting\" <| \\() -> greet \"World\"\n            , Snapshot.json 2 \"config\" <| \\() -> encodeConfig config\n            ]\n\nThe first argument is the script name (typically matching the module name).\nThis organizes snapshots into `snapshots/<ScriptName>/` directories,\nallowing multiple snapshot scripts in the same project.\n\nSupports CLI options:\n\n  - `--approve` - Approve all new/changed snapshots\n  - `--approve-only \"test name\"` - Approve a specific test\n  - `--ci` - Compact output for CI environments\n  - `--list` - List all test names without running\n  - `--prune` - Remove obsolete snapshot files\n  - `--reporter code|opendiff|meld` - Open diff tool for failures\n\n","type":"String.String -> List.List Snapshot.Test -> Pages.Script.Script"},{"name":"taskExpect","comment":" Create a BackendTask-powered snapshot test with a custom printer.\n\n    Snapshot.taskExpect myPrinter \"fetched data\" <|\n        fetchData\n            |> BackendTask.allowFatal\n\n","type":"Snapshot.Printer.Printer a -> String.String -> BackendTask.BackendTask FatalError.FatalError a -> Snapshot.Test"},{"name":"taskJson","comment":" Create a BackendTask-powered snapshot test for JSON values.\n\n    Snapshot.taskJson 2 \"api response\" <|\n        Http.get url decoder\n            |> BackendTask.allowFatal\n\n","type":"Basics.Int -> String.String -> BackendTask.BackendTask FatalError.FatalError Json.Encode.Value -> Snapshot.Test"},{"name":"taskTest","comment":" Create a BackendTask-powered snapshot test for string output.\n\n    Snapshot.taskTest \"elm.json deps\" <|\n        File.rawFile \"elm.json\"\n            |> BackendTask.allowFatal\n\nUse this for tests that need IO (file reading, HTTP, etc).\n\n","type":"String.String -> BackendTask.BackendTask FatalError.FatalError String.String -> Snapshot.Test"},{"name":"test","comment":" Create a snapshot test that compares string output.\n\n    Snapshot.test \"greeting\" <|\n        \\() ->\n            greet \"World\"\n\nThis is the most common form - use when your function already returns a String.\n\n","type":"String.String -> (() -> String.String) -> Snapshot.Test"},{"name":"withScrubbers","comment":" Add scrubbers to a test for non-deterministic output.\n\n    Snapshot.test \"log entry\" (\\() -> formatLog entry)\n        |> Snapshot.withScrubbers [ Scrubber.timestamp ]\n\n    Snapshot.json 2 \"api response\" (\\() -> encodeResponse resp)\n        |> Snapshot.withScrubbers [ Scrubber.guid, Scrubber.timestamp ]\n\nScrubbers run after printing, replacing patterns like timestamps\nand GUIDs with stable placeholders.\n\n","type":"List.List Snapshot.Scrubber.Scrubber -> Snapshot.Test -> Snapshot.Test"}],"binops":[]},{"name":"Snapshot.Printer","comment":" Printers convert domain objects to strings for snapshot comparison.\n\nEvery snapshot test has a printer (even if it's just identity).\nThe printer's job is to create a human-readable, diffable representation.\n\n**Best practices (Emily Bache):**\n\n  - Keep lines short for easy diff viewing\n  - JSON can be tricky - prefer pretty-printing\n  - Include inputs in output for context\n  - Change printers in separate commits from logic changes\n\n\n# Definition\n\n@docs Printer\n\n\n# Common Printers\n\n@docs string, json\n\n","unions":[],"aliases":[{"name":"Printer","comment":" A printer converts a value of type `a` to a String.\n","args":["a"],"type":"a -> String.String"}],"values":[{"name":"json","comment":" JSON pretty-printer with sorted keys and configurable indentation.\n\n    -- Using the convenience function:\n    Snapshot.json 2 \"user data\" <|\n        \\() -> User.encode user\n\n    -- Or with explicit printer:\n    Snapshot.expect (Printer.json 4) \"user data\" <|\n        \\() -> User.encode user\n\nThe indent parameter controls spaces per indentation level.\nUse 2 or 4 for readable output with short lines.\n\n**Keys are sorted alphabetically** at all nesting levels for deterministic\noutput. This matches the behavior of Go's `json.Marshal` and Jest's\n`pretty-format` - the modern consensus for testing tools.\n\n","type":"Basics.Int -> Json.Encode.Value -> String.String"},{"name":"string","comment":" Identity printer - use when your test already returns a String.\n\n    Snapshot.expect Printer.string \"log output\" <|\n        \\() -> formatLog entry\n\nMost of the time you'll use `Snapshot.test` directly for string output.\nUse `Printer.string` with `Snapshot.expect` when you want to be explicit.\n\n","type":"Snapshot.Printer.Printer String.String"}],"binops":[]},{"name":"Snapshot.Scrubber","comment":" Scrubbers clean non-deterministic content from snapshot output.\n\n\"Fundamentally, a scrubber is a function that takes a string and returns a string.\"\nâ€” ApprovalTests documentation\n\nScrubbers are applied AFTER the printer converts your value to a string.\nThey replace variable content (timestamps, GUIDs, etc.) with stable placeholders.\n\n\n# Definition\n\n@docs Scrubber\n\n\n# Built-in Scrubbers\n\n@docs timestamp, guid\n\n\n# Custom Scrubbers\n\n@docs custom, regex, all\n\n","unions":[],"aliases":[{"name":"Scrubber","comment":" A scrubber transforms a string, typically replacing non-deterministic\ncontent with stable placeholders.\n","args":[],"type":"String.String -> String.String"}],"values":[{"name":"all","comment":" Compose multiple scrubbers into one. Applied left to right.\n\n    Scrubber.all\n        [ Scrubber.timestamp\n        , Scrubber.guid\n        , Scrubber.regex \"v\\\\d+\\\\.\\\\d+\\\\.\\\\d+\" \"[VERSION]\"\n        ]\n\n","type":"List.List Snapshot.Scrubber.Scrubber -> String.String -> String.String"},{"name":"custom","comment":" Create a custom scrubber from any String -> String function.\n\n    myCustomScrubber : Scrubber\n    myCustomScrubber =\n        Scrubber.custom (String.replace \"secret\" \"[REDACTED]\")\n\n","type":"(String.String -> String.String) -> Snapshot.Scrubber.Scrubber"},{"name":"guid","comment":" Replace GUIDs/UUIDs with stable placeholders like `[GUID-1]`, `[GUID-2]`.\n\nPreserves referential equality: the same GUID appearing multiple times\nin the output will get the same placeholder number.\n\nMatches standard UUID format: `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`\n\n","type":"String.String -> String.String"},{"name":"regex","comment":" Replace all matches of a regex pattern with a fixed string.\n\n    -- Replace version numbers\n    Scrubber.regex \"v\\\\d+\\\\.\\\\d+\\\\.\\\\d+\" \"[VERSION]\"\n\n    -- Replace port numbers\n    Scrubber.regex \":\\\\d{4,5}\" \":[PORT]\"\n\nNote: Uses Elm's Regex module. Invalid patterns are silently ignored.\n\n","type":"String.String -> String.String -> String.String -> String.String"},{"name":"timestamp","comment":" Replace ISO 8601 timestamps with `[TIMESTAMP]`.\n\nMatches patterns like:\n\n  - `2024-01-15T10:30:00Z`\n  - `2024-01-15T10:30:00.123Z`\n  - `2024-01-15T10:30:00+05:00`\n  - `2024-01-15 10:30:00`\n\n","type":"String.String -> String.String"}],"binops":[]}]